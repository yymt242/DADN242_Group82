{"mode":"block","xmlText":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"n0PB,i1,?Yek.tq@lNR^\">cmd</variable><variable id=\"M].?-w{J5n[3oFFY[).J\">actValue</variable><variable id=\"0mzu60O)_Nv_qh7R,1`b\">colorCode</variable></variables><block type=\"yolobit_basic_forever\" id=\"w5Bl*-!,Ihc8X2tI)wP*\" x=\"412\" y=\"-287\"><statement name=\"ONSTART\"><block type=\"aiot_ultrasonic_create\" id=\"Er2N9d*uPWXV3ye%HP5N\"><field name=\"TRG\">pin3</field><field name=\"ECH\">pin6</field></block></statement><statement name=\"FOREVER\"><block type=\"aiot_dht_measure\" id=\"e4AzX.OMQR4yY^[oLNW6\"><next><block type=\"xbot_serial_write_string\" id=\".rM9K};#bS;c6%gt2TyB\"><value name=\"string\"><shadow type=\"text\" id=\"q_r;NZSb/M4!weWN8P?b\"><field name=\"TEXT\"> </field></shadow><block type=\"text_join\" id=\"aY~b-pQ]UY6}UBi[oas:\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><block type=\"text\" id=\"5u5#kh=;)}QKzrgxN9A#\"><field name=\"TEXT\">!khoangcach:</field></block></value><value name=\"ADD1\"><block type=\"aiot_ultrasonic_read\" id=\"w?yeczVA`Z=E|(VfG)nJ\"><field name=\"TYPE\">CM</field></block></value><value name=\"ADD2\"><block type=\"text\" id=\"Fk~[q~Spvxm~^qr:q}4r\"><field name=\"TEXT\">#</field></block></value></block></value><next><block type=\"xbot_serial_write_string\" id=\"qhr5kG{~+m*U1eoZM`qI\"><value name=\"string\"><shadow type=\"text\" id=\"q_r;NZSb/M4!weWN8P?b\"><field name=\"TEXT\"> </field></shadow><block type=\"text_join\" id=\"yg[D64i5}KRo/[?Zf5gz\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><block type=\"text\" id=\"+?A7Z-e:aW|?%j_~7v!Z\"><field name=\"TEXT\">!anhsang:</field></block></value><value name=\"ADD1\"><block type=\"aiot_light_sensor\" id=\"6=91koSLy=,o9G`wpkH;\"><field name=\"NAME\">pin0</field></block></value><value name=\"ADD2\"><block type=\"text\" id=\"c{XX2nr#q9)8a$jA/xH;\"><field name=\"TEXT\">#</field></block></value></block></value><next><block type=\"xbot_serial_write_string\" id=\")LQgqbE~]Y}UehgEMrjF\"><value name=\"string\"><shadow type=\"text\" id=\"q_r;NZSb/M4!weWN8P?b\"><field name=\"TEXT\"> </field></shadow><block type=\"text_join\" id=\"aV9l+~4Ah$wUB1!Hsr:l\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><block type=\"text\" id=\"L1-0GX[_uIwOOwYV}QYA\"><field name=\"TEXT\">!nhietdo:</field></block></value><value name=\"ADD1\"><block type=\"aiot_dht_read\" id=\"!2HYKJ6phYWAJ?Uk)$eP\"><field name=\"DATA\">TEMP</field></block></value><value name=\"ADD2\"><block type=\"text\" id=\"brq?M8MA+/u)ZOoj8D%;\"><field name=\"TEXT\">#</field></block></value></block></value><next><block type=\"xbot_serial_write_string\" id=\")r|BQ#!_#v4y{uXj(x-4\"><value name=\"string\"><shadow type=\"text\" id=\"q_r;NZSb/M4!weWN8P?b\"><field name=\"TEXT\"> </field></shadow><block type=\"text_join\" id=\"x31h])aC#J~_2R$];`Kx\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><block type=\"text\" id=\"FhNK2#62m;$Z^(TxF+l^\"><field name=\"TEXT\">!doam:</field></block></value><value name=\"ADD1\"><block type=\"aiot_dht_read\" id=\"i]IJz9]s?R}lb-4#je9P\"><field name=\"DATA\">HUMID</field></block></value><value name=\"ADD2\"><block type=\"text\" id=\"!TTj)Ze2M,|6U+a,pn,+\"><field name=\"TEXT\">#</field></block></value></block></value><next><block type=\"variables_set\" id=\".:n7SoP(+JfyarK9{BXc\"><field name=\"VAR\" id=\"n0PB,i1,?Yek.tq@lNR^\">cmd</field><value name=\"VALUE\"><block type=\"yolobit_device_read_terminal\" id=\"jj?zju2)2]nuSG_kd^:6\"></block></value><next><block type=\"controls_if\" id=\";jd~C4;!NGY.d?91$lKM\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"jFy6mBkDi+3][bMKXwmB\"><field name=\"OP\">NEQ</field><value name=\"A\"><block type=\"text_length\" id=\"rQkPn+w|M)79mE#N?$[]\"><value name=\"VALUE\"><shadow type=\"text\" id=\"qZbTVz0}G/MGN1DocQ=^\"><field name=\"TEXT\">abc</field></shadow><block type=\"variables_get\" id=\"5tTdO#!-iO`,-wY|CI[m\"><field name=\"VAR\" id=\"n0PB,i1,?Yek.tq@lNR^\">cmd</field></block></value></block></value><value name=\"B\"><block type=\"math_number\" id=\"8OnopGg$cbBKdN_GE)Xq\"><field name=\"NUM\">0</field></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\" id=\"f+8PQ:CedI?cRsg9HF:t\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"/!-~pH4JY.|oO(p9JoPb\"><field name=\"OP\">NEQ</field><value name=\"A\"><block type=\"text_charAt\" id=\"O]QCD1m81VSBO^P1)]AE\"><mutation at=\"false\"></mutation><field name=\"WHERE\">FIRST</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"K_N90x43i[bZ`zpNN0?R\"><field name=\"VAR\" id=\"n0PB,i1,?Yek.tq@lNR^\">cmd</field></block></value></block></value><value name=\"B\"><block type=\"text\" id=\"CKjfo{ACl-MIqa|2E%p~\"><field name=\"TEXT\">!</field></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\" id=\"^BaND{G/z4NLj5neQwbk\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"V`IIwX=pp{L-/`P;kjWa\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"text_charAt\" id=\"Q#4]Q$dxty/--Qe`tn?D\"><mutation at=\"false\"></mutation><field name=\"WHERE\">FIRST</field><value name=\"VALUE\"><block type=\"variables_get\" id=\".;@CWxT_ePM)i+x`8CX~\"><field name=\"VAR\" id=\"n0PB,i1,?Yek.tq@lNR^\">cmd</field></block></value></block></value><value name=\"B\"><block type=\"text\" id=\"p!epWaZrW)8?i{0W-QB$\"><field name=\"TEXT\">F</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"Ay7Omks^P{qYBmqv;QfD\"><field name=\"VAR\" id=\"M].?-w{J5n[3oFFY[).J\">actValue</field><value name=\"VALUE\"><block type=\"math_tonum\" id=\"uNvS[`3I$Q[=Pe|Q_m/4\"><value name=\"A\"><block type=\"text_getSubstring\" id=\"6Kh54~N*xV.rwu/D{zSO\"><mutation at1=\"true\" at2=\"true\"></mutation><field name=\"WHERE1\">FROM_START</field><field name=\"WHERE2\">FROM_START</field><value name=\"STRING\"><block type=\"variables_get\" id=\"AE-fx$w}a%wt@1[5S)-n\"><field name=\"VAR\" id=\"n0PB,i1,?Yek.tq@lNR^\">cmd</field></block></value><value name=\"AT1\"><block type=\"math_arithmetic\" id=\"aT)nI|#Z/8L,HJDQ[tWh\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\" id=\"O6;8SkW#Y,Z,C3Pa]BVY\"><field name=\"NUM\">1</field></shadow><block type=\"text_indexOf\" id=\"[v${H$pIq3`dR6p:Y|P`\"><field name=\"END\">FIRST</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"^.OP~1@Jt7K.+{TVpX~Z\"><field name=\"VAR\" id=\"n0PB,i1,?Yek.tq@lNR^\">cmd</field></block></value><value name=\"FIND\"><shadow type=\"text\" id=\"sz(vck!*e~3`=oU~XrMx\"><field name=\"TEXT\">:</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\" id=\"?eN;$e!87mI/3`;8@1Ce\"><field name=\"NUM\">1</field></shadow></value></block></value><value name=\"AT2\"><block type=\"math_arithmetic\" id=\"II)6^wJ(f5[tfANU`OHs\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\" id=\"27D^1:)3VrV|YC2/dE3~\"><field name=\"NUM\">1</field></shadow><block type=\"text_indexOf\" id=\"N]gV:6EQrrgX||/::#J~\"><field name=\"END\">FIRST</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"^Qt@d!Ey7Z8`c@xe:2Q3\"><field name=\"VAR\" id=\"n0PB,i1,?Yek.tq@lNR^\">cmd</field></block></value><value name=\"FIND\"><shadow type=\"text\" id=\"Dw(P9W~4z{(L%%3d1p9H\"><field name=\"TEXT\">#</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\" id=\"[B:`/^a~FE2+%]gT/T`;\"><field name=\"NUM\">1</field></shadow></value></block></value></block></value></block></value><next><block type=\"aiot_minifan\" id=\"R?dGXC]Jjse]jLU`z|M#\"><field name=\"NAME\">pin10</field><value name=\"percent\"><shadow type=\"math_number\" id=\"!N1sDJ7QvXR1/)mOp(!C\"><field name=\"NUM\">70</field></shadow><block type=\"variables_get\" id=\"9,ZWIJ(tGL4[Rvq;M[LI\"><field name=\"VAR\" id=\"M].?-w{J5n[3oFFY[).J\">actValue</field></block></value></block></next></block></statement><statement name=\"ELSE\"><block type=\"controls_if\" id=\"c;k646TW5ust-+pe=%/e\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"VK$ZOZk#*~X.g:P$4sy,\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"text_charAt\" id=\"uN~CsmUuHY7d0eufQKXT\"><mutation at=\"false\"></mutation><field name=\"WHERE\">FIRST</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"2O6PNX$Vg;5aFxmMeE-R\"><field name=\"VAR\" id=\"n0PB,i1,?Yek.tq@lNR^\">cmd</field></block></value></block></value><value name=\"B\"><block type=\"text\" id=\".h+y:8$mdQLYxF_b.-iK\"><field name=\"TEXT\">L</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"%iS+rO~RRFkU~o3E$)f5\"><field name=\"VAR\" id=\"0mzu60O)_Nv_qh7R,1`b\">colorCode</field><value name=\"VALUE\"><block type=\"text_getSubstring\" id=\"WuZsJ3-jWjO0`j:HwK/Y\"><mutation at1=\"true\" at2=\"true\"></mutation><field name=\"WHERE1\">FROM_START</field><field name=\"WHERE2\">FROM_START</field><value name=\"STRING\"><block type=\"variables_get\" id=\"4K~n`LJ`2Z|i!P|)$~Zq\"><field name=\"VAR\" id=\"n0PB,i1,?Yek.tq@lNR^\">cmd</field></block></value><value name=\"AT1\"><block type=\"math_arithmetic\" id=\"/a(c;1pb0]HU!m~q,0x4\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\" id=\"O6;8SkW#Y,Z,C3Pa]BVY\"><field name=\"NUM\">1</field></shadow><block type=\"text_indexOf\" id=\"h*rO2j2g~Ud^N6u|`sp1\"><field name=\"END\">FIRST</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"wqn2Q=;f_fyL{M8-FXq^\"><field name=\"VAR\" id=\"n0PB,i1,?Yek.tq@lNR^\">cmd</field></block></value><value name=\"FIND\"><shadow type=\"text\" id=\")sOcj}/:jSH`:O2?Fndz\"><field name=\"TEXT\">:</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\" id=\"TB_)pSr+)5P$.jj=/pU2\"><field name=\"NUM\">1</field></shadow></value></block></value><value name=\"AT2\"><block type=\"math_arithmetic\" id=\"tW/3*8${_k(i-wtf5iXA\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\" id=\"27D^1:)3VrV|YC2/dE3~\"><field name=\"NUM\">1</field></shadow><block type=\"text_indexOf\" id=\"Ueg.N[fo?dT3deGiweZg\"><field name=\"END\">LAST</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"^b[a%d-AGM:6%kx;h)[-\"><field name=\"VAR\" id=\"n0PB,i1,?Yek.tq@lNR^\">cmd</field></block></value><value name=\"FIND\"><shadow type=\"text\" id=\"LlcM#(WOU?,p.o/Z~IhR\"><field name=\"TEXT\">#</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\" id=\"v),$Ugv~KDwmbtxKZNf7\"><field name=\"NUM\">1</field></shadow></value></block></value></block></value><next><block type=\"aiot_led_tiny_set_all\" id=\"=3SR(Knrv9mR1yjKLk_}\"><field name=\"port\">pin14</field><field name=\"option\">0</field><value name=\"COLOR\"><shadow type=\"colour_picker\" id=\"xiX!kZca-[,YL=}w:**M\"><field name=\"COLOUR\">#ffffff</field></shadow><block type=\"variables_get\" id=\"Ip|A=~$3e;Mr_wI(if4u\"><field name=\"VAR\" id=\"0mzu60O)_Nv_qh7R,1`b\">colorCode</field></block></value></block></next></block></statement><statement name=\"ELSE\"><block type=\"controls_if\" id=\"+FjEQ%qD%UR}Kj.BZ,qL\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"N(ZzR2LzTkoblEd2;:o/\"><field name=\"OP\">NEQ</field><value name=\"A\"><block type=\"text_indexOf\" id=\"xun5`C!lPew30]thy;MI\"><field name=\"END\">FIRST</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"bW1]lce@g}Fi}EU5=t9O\"><field name=\"VAR\" id=\"n0PB,i1,?Yek.tq@lNR^\">cmd</field></block></value><value name=\"FIND\"><shadow type=\"text\" id=\"dl^:pcO%Bei|!HfC%w_^\"><field name=\"TEXT\">1</field></shadow></value></block></value><value name=\"B\"><block type=\"math_number\" id=\"D;h^5_5@/^,M}BB-b)F/\"><field name=\"NUM\">0</field></block></value></block></value><statement name=\"DO0\"><block type=\"yolobit_pin_servo_write_angle\" id=\"c!p{^ke^l@GSB5THv`jl\"><field name=\"pin\">4</field><value name=\"angle\"><shadow type=\"math_number\" id=\"Za1;P?UX`wpBZR4s!Yhg\"><field name=\"NUM\">90</field></shadow></value></block></statement><statement name=\"ELSE\"><block type=\"yolobit_pin_servo_write_angle\" id=\"B]0N_Wfe{LnlS#=ilL]2\"><field name=\"pin\">4</field><value name=\"angle\"><shadow type=\"math_number\" id=\"Piq]J//[e|l?AaxsB4Pc\"><field name=\"NUM\">0</field></shadow></value></block></statement></block></statement></block></statement></block></statement></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"yolobit_pin_servo_write_angle\" id=\"N^Q/l+-W;yQa7X2v4GII\" x=\"-162\" y=\"387\"><field name=\"pin\">4</field><value name=\"angle\"><shadow type=\"math_number\" id=\"]2c~{6fDyB4;i{g+Ai#7\"><field name=\"NUM\">180</field></shadow></value><next><block type=\"yolobit_basic_sleep\" id=\"+q`M9s2F96FjEA/3K]h:\"><value name=\"duration\"><shadow type=\"math_number\" id=\"(_UjVGt(C(:J]BOlrwtd\"><field name=\"NUM\">1000</field></shadow></value><next><block type=\"yolobit_pin_servo_write_angle\" id=\"CyoPqzDg4$BwmSFcI@xh\"><field name=\"pin\">4</field><value name=\"angle\"><shadow type=\"math_number\" id=\"2m8KrmS%11eaTWRz+|Y/\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"yolobit_basic_sleep\" id=\"vgyg9-q@4a7d,BjHwHU?\"><value name=\"duration\"><shadow type=\"math_number\" id=\"`NTH+|Oywz4vGkM_@pU?\"><field name=\"NUM\">1000</field></shadow></value></block></next></block></next></block></next></block></xml>","python":"from yolobit import *\nbutton_a.on_pressed = None\nbutton_b.on_pressed = None\nbutton_a.on_pressed_ab = button_b.on_pressed_ab = -1\nfrom aiot_hcsr04 import HCSR04\nfrom machine import Pin, SoftI2C\nfrom aiot_dht20 import DHT20\nimport sys\nimport uselect\nfrom aiot_rgbled import RGBLed\nimport time\n\naiot_dht20 = DHT20()\n\ndef read_terminal_input():\n  spoll=uselect.poll()        # Set up an input polling object.\n  spoll.register(sys.stdin, uselect.POLLIN)    # Register polling object.\n\n  input = ''\n  if spoll.poll(0):\n    input = sys.stdin.read(1)\n\n    while spoll.poll(0):\n      input = input + sys.stdin.read(1)\n\n  spoll.unregister(sys.stdin)\n  return input\n\ntiny_rgb = RGBLed(pin14.pin, 4)\n\nif True:\n  aiot_ultrasonic = HCSR04(trigger_pin=pin3.pin, echo_pin=pin6.pin)\n\nwhile True:\n  aiot_dht20.read_dht20()\n  print((''.join([str(x) for x in ['!khoangcach:', aiot_ultrasonic.distance_cm(), '#']])), end =' ')\n  print((''.join([str(x2) for x2 in ['!anhsang:', round(translate((pin0.read_analog()), 0, 4095, 0, 100)), '#']])), end =' ')\n  print((''.join([str(x3) for x3 in ['!nhietdo:', aiot_dht20.dht20_temperature(), '#']])), end =' ')\n  print((''.join([str(x4) for x4 in ['!doam:', aiot_dht20.dht20_humidity(), '#']])), end =' ')\n  cmd = read_terminal_input()\n  if len(cmd) != 0:\n    if cmd[0] != '!':\n      if cmd[0] == 'F':\n        actValue = int((cmd[int(((cmd.find(':') + 1) + 1) - 1) : int((cmd.find('#') + 1) - 1)]))\n        pin10.write_analog(round(translate(actValue, 0, 100, 0, 1023)))\n      else:\n        if cmd[0] == 'L':\n          colorCode = cmd[int(((cmd.find(':') + 1) + 1) - 1) : int((cmd.rfind('#') + 1) - 1)]\n          tiny_rgb.show(0, hex_to_rgb(colorCode))\n        else:\n          if cmd.find('1') + 1 != 0:\n            pin4.servo_write(90)\n          else:\n            pin4.servo_write(0)\n  time.sleep_ms(10)\n\n\npin4.servo_write(180)\ntime.sleep_ms(1000)\npin4.servo_write(0)\ntime.sleep_ms(1000)\n","name":"yolobit_group82","extensions":[{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"}],"device":"yolobit"}