{"mode":"block","xmlText":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"n0PB,i1,?Yek.tq@lNR^\">cmd</variable><variable id=\"M].?-w{J5n[3oFFY[).J\">actValue</variable></variables><block type=\"yolobit_basic_forever\" id=\"w5Bl*-!,Ihc8X2tI)wP*\" x=\"138\" y=\"-137\"><statement name=\"ONSTART\"><block type=\"aiot_ultrasonic_create\" id=\"Er2N9d*uPWXV3ye%HP5N\"><field name=\"TRG\">pin3</field><field name=\"ECH\">pin6</field></block></statement><statement name=\"FOREVER\"><block type=\"aiot_dht_measure\" id=\"e4AzX.OMQR4yY^[oLNW6\"><next><block type=\"xbot_serial_write_string\" id=\".rM9K};#bS;c6%gt2TyB\"><value name=\"string\"><shadow type=\"text\" id=\"q_r;NZSb/M4!weWN8P?b\"><field name=\"TEXT\"> </field></shadow><block type=\"text_join\" id=\"aY~b-pQ]UY6}UBi[oas:\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><block type=\"text\" id=\"5u5#kh=;)}QKzrgxN9A#\"><field name=\"TEXT\">!khoangcach:</field></block></value><value name=\"ADD1\"><block type=\"aiot_ultrasonic_read\" id=\"w?yeczVA`Z=E|(VfG)nJ\"><field name=\"TYPE\">CM</field></block></value><value name=\"ADD2\"><block type=\"text\" id=\"Fk~[q~Spvxm~^qr:q}4r\"><field name=\"TEXT\">#</field></block></value></block></value><next><block type=\"xbot_serial_write_string\" id=\"qhr5kG{~+m*U1eoZM`qI\"><value name=\"string\"><shadow type=\"text\" id=\"q_r;NZSb/M4!weWN8P?b\"><field name=\"TEXT\"> </field></shadow><block type=\"text_join\" id=\"yg[D64i5}KRo/[?Zf5gz\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><block type=\"text\" id=\"+?A7Z-e:aW|?%j_~7v!Z\"><field name=\"TEXT\">!anhsang:</field></block></value><value name=\"ADD1\"><block type=\"aiot_light_sensor\" id=\"6=91koSLy=,o9G`wpkH;\"><field name=\"NAME\">pin0</field></block></value><value name=\"ADD2\"><block type=\"text\" id=\"c{XX2nr#q9)8a$jA/xH;\"><field name=\"TEXT\">#</field></block></value></block></value><next><block type=\"xbot_serial_write_string\" id=\")LQgqbE~]Y}UehgEMrjF\"><value name=\"string\"><shadow type=\"text\" id=\"q_r;NZSb/M4!weWN8P?b\"><field name=\"TEXT\"> </field></shadow><block type=\"text_join\" id=\"aV9l+~4Ah$wUB1!Hsr:l\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><block type=\"text\" id=\"L1-0GX[_uIwOOwYV}QYA\"><field name=\"TEXT\">!nhietdo:</field></block></value><value name=\"ADD1\"><block type=\"aiot_dht_read\" id=\"!2HYKJ6phYWAJ?Uk)$eP\"><field name=\"DATA\">TEMP</field></block></value><value name=\"ADD2\"><block type=\"text\" id=\"brq?M8MA+/u)ZOoj8D%;\"><field name=\"TEXT\">#</field></block></value></block></value><next><block type=\"xbot_serial_write_string\" id=\")r|BQ#!_#v4y{uXj(x-4\"><value name=\"string\"><shadow type=\"text\" id=\"q_r;NZSb/M4!weWN8P?b\"><field name=\"TEXT\"> </field></shadow><block type=\"text_join\" id=\"x31h])aC#J~_2R$];`Kx\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><block type=\"text\" id=\"FhNK2#62m;$Z^(TxF+l^\"><field name=\"TEXT\">!doam:</field></block></value><value name=\"ADD1\"><block type=\"aiot_dht_read\" id=\"i]IJz9]s?R}lb-4#je9P\"><field name=\"DATA\">HUMID</field></block></value><value name=\"ADD2\"><block type=\"text\" id=\"!TTj)Ze2M,|6U+a,pn,+\"><field name=\"TEXT\">#</field></block></value></block></value><next><block type=\"variables_set\" id=\".:n7SoP(+JfyarK9{BXc\"><field name=\"VAR\" id=\"n0PB,i1,?Yek.tq@lNR^\">cmd</field><value name=\"VALUE\"><block type=\"yolobit_device_read_terminal\" id=\"jj?zju2)2]nuSG_kd^:6\"></block></value><next><block type=\"controls_if\" id=\"f+8PQ:CedI?cRsg9HF:t\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"/!-~pH4JY.|oO(p9JoPb\"><field name=\"OP\">NEQ</field><value name=\"A\"><block type=\"text_charAt\" id=\"O]QCD1m81VSBO^P1)]AE\"><mutation at=\"false\"></mutation><field name=\"WHERE\">FIRST</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"K_N90x43i[bZ`zpNN0?R\"><field name=\"VAR\" id=\"n0PB,i1,?Yek.tq@lNR^\">cmd</field></block></value></block></value><value name=\"B\"><block type=\"text\" id=\"CKjfo{ACl-MIqa|2E%p~\"><field name=\"TEXT\">!</field></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\" id=\"kg@%8]`QhsoV!2jH|a#w\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"_t..gtZgTaiI8H{lo/=$\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"text_charAt\" id=\"IJvXL5Zl5$`L=xMPOI`#\"><mutation at=\"true\"></mutation><field name=\"WHERE\">FROM_START</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"zbP!#Qz8)f@X}5auxY;I\"><field name=\"VAR\" id=\"n0PB,i1,?Yek.tq@lNR^\">cmd</field></block></value><value name=\"AT\"><block type=\"math_number\" id=\"GhzULL{We*{KoUZyO73`\"><field name=\"NUM\">3</field></block></value></block></value><value name=\"B\"><block type=\"text\" id=\"FB-Xbx=-%!MMvf3SgY.|\"><field name=\"TEXT\">0</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"Ay7Omks^P{qYBmqv;QfD\"><field name=\"VAR\" id=\"M].?-w{J5n[3oFFY[).J\">actValue</field><value name=\"VALUE\"><block type=\"math_number\" id=\"tw}d~Yy!yw8.Eri(ORGe\"><field name=\"NUM\">0</field></block></value></block></statement><statement name=\"ELSE\"><block type=\"variables_set\" id=\"$-7bEee;JG)P}LPl27*w\"><field name=\"VAR\" id=\"M].?-w{J5n[3oFFY[).J\">actValue</field><value name=\"VALUE\"><block type=\"math_number\" id=\"A)=N({[}R:WdXpvl}}dN\"><field name=\"NUM\">1</field></block></value></block></statement><next><block type=\"controls_if\" id=\"^BaND{G/z4NLj5neQwbk\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"V`IIwX=pp{L-/`P;kjWa\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"text_charAt\" id=\"Q#4]Q$dxty/--Qe`tn?D\"><mutation at=\"false\"></mutation><field name=\"WHERE\">FIRST</field><value name=\"VALUE\"><block type=\"variables_get\" id=\".;@CWxT_ePM)i+x`8CX~\"><field name=\"VAR\" id=\"n0PB,i1,?Yek.tq@lNR^\">cmd</field></block></value></block></value><value name=\"B\"><block type=\"text\" id=\"p!epWaZrW)8?i{0W-QB$\"><field name=\"TEXT\">F</field></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\" id=\"{ofVBl~JY0=|9?a{+e0]\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"OiND:haaRTX?,80mfE#j\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\",tgv(S/heM]3Fl=}48o+\"><field name=\"VAR\" id=\"M].?-w{J5n[3oFFY[).J\">actValue</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"[~6Lh,DyIhXF6t9{xtZa\"><field name=\"NUM\">1</field></block></value></block></value><statement name=\"DO0\"><block type=\"aiot_minifan\" id=\"R?dGXC]Jjse]jLU`z|M#\"><field name=\"NAME\">pin10</field><value name=\"percent\"><shadow type=\"math_number\" id=\"!N1sDJ7QvXR1/)mOp(!C\"><field name=\"NUM\">70</field></shadow></value></block></statement><statement name=\"ELSE\"><block type=\"aiot_minifan\" id=\"QH[2}As6XIrAjW)q8lG-\"><field name=\"NAME\">pin10</field><value name=\"percent\"><shadow type=\"math_number\" id=\"~4_[;/kh/!nGWp|sitAh\"><field name=\"NUM\">0</field></shadow></value></block></statement></block></statement><statement name=\"ELSE\"><block type=\"controls_if\" id=\":*S6?c:|W[B3Ur[zu6br\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"b8,Q=H1Ug:3nVZb,r0L|\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"k^eK+hfIpOJaI^K|s!?6\"><field name=\"VAR\" id=\"M].?-w{J5n[3oFFY[).J\">actValue</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"S0x+@b!u;.9!@;Oj?4Ts\"><field name=\"NUM\">1</field></block></value></block></value><statement name=\"DO0\"><block type=\"aiot_led_tiny_set_all\" id=\"=3SR(Knrv9mR1yjKLk_}\"><field name=\"port\">pin14</field><field name=\"option\">0</field><value name=\"COLOR\"><shadow type=\"colour_picker\" id=\"xiX!kZca-[,YL=}w:**M\"><field name=\"COLOUR\">#ffffff</field></shadow></value></block></statement><statement name=\"ELSE\"><block type=\"aiot_led_tiny_set_all\" id=\"Bmgse[!zVSsvdes4b`ih\"><field name=\"port\">pin14</field><field name=\"option\">0</field><value name=\"COLOR\"><shadow type=\"colour_picker\" id=\":#kx3`qdB$Pr~bklwu%1\"><field name=\"COLOUR\">#000000</field></shadow></value></block></statement></block></statement></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>","python":"from yolobit import *\nbutton_a.on_pressed = None\nbutton_b.on_pressed = None\nbutton_a.on_pressed_ab = button_b.on_pressed_ab = -1\nfrom aiot_hcsr04 import HCSR04\nfrom machine import Pin, SoftI2C\nfrom aiot_dht20 import DHT20\nimport sys\nimport uselect\nfrom aiot_rgbled import RGBLed\n\naiot_dht20 = DHT20()\n\ndef read_terminal_input():\n  spoll=uselect.poll()        # Set up an input polling object.\n  spoll.register(sys.stdin, uselect.POLLIN)    # Register polling object.\n\n  input = ''\n  if spoll.poll(0):\n    input = sys.stdin.read(1)\n\n    while spoll.poll(0):\n      input = input + sys.stdin.read(1)\n\n  spoll.unregister(sys.stdin)\n  return input\n\ntiny_rgb = RGBLed(pin14.pin, 4)\n\nif True:\n  aiot_ultrasonic = HCSR04(trigger_pin=pin3.pin, echo_pin=pin6.pin)\n\nwhile True:\n  aiot_dht20.read_dht20()\n  print((''.join([str(x) for x in ['!khoangcach:', aiot_ultrasonic.distance_cm(), '#']])), end =' ')\n  print((''.join([str(x2) for x2 in ['!anhsang:', round(translate((pin0.read_analog()), 0, 4095, 0, 100)), '#']])), end =' ')\n  print((''.join([str(x3) for x3 in ['!nhietdo:', aiot_dht20.dht20_temperature(), '#']])), end =' ')\n  print((''.join([str(x4) for x4 in ['!doam:', aiot_dht20.dht20_humidity(), '#']])), end =' ')\n  cmd = read_terminal_input()\n  if cmd[0] != '!':\n    if cmd[2] == '0':\n      actValue = 0\n    else:\n      actValue = 1\n    if cmd[0] == 'F':\n      if actValue == 1:\n        pin10.write_analog(round(translate(70, 0, 100, 0, 1023)))\n      else:\n        pin10.write_analog(round(translate(0, 0, 100, 0, 1023)))\n    else:\n      if actValue == 1:\n        tiny_rgb.show(0, hex_to_rgb('#ffffff'))\n      else:\n        tiny_rgb.show(0, hex_to_rgb('#000000'))\n  time.sleep_ms(10)\n","name":"yolobit_group82","extensions":[{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"}],"device":"yolobit"}