\setstretch{1}           % khoảng cách dòng single
\linespread{1}           % đảm bảo tương thích
\parindent=1.5em         % thụt lề đoạn
\parskip=6pt             % khoảng cách đoạn văn
\setlength{\parindent}{2em}
\renewcommand\normalsize{\fontsize{13}{15.6}\selectfont}
\newcommand{\VNDate}{%
    \ifnum\day<10 0\fi\number\day/%
    \ifnum\month<10 0\fi\number\month/%
    \number\year%
}

% === Font and Typography ===
\renewcommand{\ttdefault}{txtt} % Set monospace font to txtt (Teletype)


% === Caption and Figure/Table Styles ===
\captionsetup[figure]{labelfont={large,bf},textfont={large,it},belowskip=-1pt,aboveskip=7pt}
\captionsetup[table]{labelfont={large,bf},textfont={large,it},belowskip=-1pt,aboveskip=7pt}



% === Page Layout and Spacing ===
% 3mm khoảng cách giữa số thứ tự tiêu đề và tiêu đề
% Tiêu đề 1 - chữ HOA đậm, cỡ 18, căn giữa, khoảng trống 12pt trên dưới, dòng single
\titleformat{\section}
{\bfseries\fontsize{18}{21.6}\selectfont\centering} % 21.6 = 18 * 1.2 (single)
{\thesection}{3mm}{}
\titlespacing*{\section}{0pt}{12pt}{12pt}

% Tiêu đề 2 - chữ HOA đậm, cỡ 13, căn đều (justified), khoảng trống 12pt trên dưới, dòng single
\titleformat{\subsection}
{\bfseries\fontsize{13}{15.6}\selectfont\justifying} % justifying cần gói microtype hoặc ragged2e
{\thesubsection}{3mm}{}
\titlespacing*{\subsection}{0pt}{12pt}{12pt}

% Tiêu đề 3 - chữ thường đậm, cỡ 13, căn đều, khoảng trống 12pt trên dưới, dòng single
\titleformat{\subsubsection}
{\bfseries\fontsize{13}{15.6}\selectfont\justifying}
{\thesubsubsection}{3mm}{}
\titlespacing*{\subsubsection}{0pt}{12pt}{12pt}

% Tiêu đề 4 - chữ nghiêng đậm, cỡ 13, căn đều, khoảng trống 12pt trên dưới, dòng single
\titleformat{\paragraph}
{\bfseries\itshape\fontsize{13}{15.6}\selectfont\justifying}
{\theparagraph}{3mm}{}
\titlespacing*{\paragraph}{0pt}{12pt}{12pt}


% Alternative: Giãn before/after của các loại headings
\titlespacing*{\section}{0pt}{0cm}{0.6cm}
\titlespacing*{\subsection}{0pt}{1mm}{-1mm}
\titlespacing*{\subsubsection}{0pt}{0mm}{0mm}
\titlespacing*{\paragraph}{0pt}{-1mm}{-1mm}


% Adjust title spacing in the TOC
\setlength{\cftsecnumwidth}{2.9cm}  % Adjust the number width for sections
\setlength{\cftsubsecnumwidth}{1.1cm}  % Adjust for subsections
\setlength{\cftsubsubsecnumwidth}{1.2cm}

% Title format
\titlelabel{\thetitle.\quad}
\renewcommand\thesection{CHƯƠNG \arabic{section}.}
\renewcommand\thesubsection{\arabic{section}.\arabic{subsection}.}
\renewcommand\thesubsubsection{\arabic{section}.\arabic{subsection}.\arabic{subsubsection}.}
\renewcommand\theparagraph{\arabic{section}.\arabic{subsection}.\arabic{subsubsection}.\arabic{paragraph}.}

% Header and footer styles
\pagestyle{fancy}

\renewcommand{\headrulewidth}{0.4pt} % line under header
\renewcommand{\footrulewidth}{0.4pt} % line above footer

\fancyhead{} % Clear all header fields
\fancyhead[L]{
    \begin{tabular}{@{}rl@{}}
        \raisebox{-0.45\height}{\includegraphics[width=14mm]{cover_pages/01_logobachkhoasang.png}} &
        \hspace{-5mm}
        \begin{tabular}[c]{@{}l@{}}
            {\small  Trường Đại Học Bách Khoa - ĐHQG TP.HCM} \\
            {\small  Khoa Khoa học và Kỹ thuật Máy tính}     \\
        \end{tabular}
    \end{tabular}
}
\fancyhead[R]{
    \begin{tabular}{l}
        \tiny \bf \\
        \tiny \bf
    \end{tabular}
}

\setlength{\footskip}{1cm}
\fancyfoot{}
\fancyfoot[L]{\small Báo cáo Thực tập đồ án môn học đa ngành  - CO$3109$ \\ Năm học 2024-2025 $\cdot$ Học kỳ 242}
\fancyfoot[R]{\small  Trang {\thepage}/\pageref{LastPage}}



% === Rename sections ===
\AtBeginDocument{
    \renewcommand*\contentsname{}
    % \renewcommand*\listfigurename{}
    % \renewcommand*\listtablename{}
    \renewcommand*\refname{}
}


% === Code Block Styling ===


% Code Block Styling
\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{mauve}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{pureblack}{rgb}{0,0,0}
\definecolor{purered}{rgb}{1,0,0}
\definecolor{functioncolor}{rgb}{0.0,0.5,0.5}  % Function names color
\definecolor{classcolor}{rgb}{0.5,0,0.5}     % Class names color
\definecolor{typecolor}{rgb}{0.9,0.5,0.0}     % Type annotations color

% Styling for Python code
\lstdefinestyle{pythonstyle}{
    language=Python,
    basicstyle=\ttfamily\small\fontfamily{txtt}\selectfont, % Monospaced font
    keywordstyle=\color{blue}\bfseries,               % Keywords in blue and bold
    commentstyle=\color{gray}\itshape,             % Comments in dark green and italics
    stringstyle=\color{purered},                           % Strings in red
    identifierstyle=\color{pureblack},                    % Identifiers in violet
    numberstyle=\ttfamily\small\fontfamily{txtt}\selectfont\color{pureblack},
    numbers=left,                                     % Line numbers on the left
    numbersep=9pt,                                    % Distance of numbers from code
    breaklines=true,                                  % Break lines to fit in the margin
    frame=single,                                     % Frame around the code block
    backgroundcolor=\color{white},                    % White background
    captionpos=b,                                     % Caption below the code
    xleftmargin=30pt,                                 % Left margin
    xrightmargin=30pt,                                % Right margin
    aboveskip=10pt,                                   % Space above the code
    belowskip=10pt,                                   % Space below the code
    showstringspaces=false,                           % Do not show spaces in strings
    morekeywords={lambda, self, import, def, class, return, True, False, None}, % Add custom keywords
    morecomment=[l]{\#},                              % Single-line comments
    morecomment=[s]{\''}{\'},                         % Multi-line comments (docstrings)
    escapeinside={\%*}{*},                            % Allows LaTeX commands in code
    morekeywords={[2]as, assert, break, continue, del}, % Additional Python-specific keywords
}

% Styling for MATLAB code
\lstdefinestyle{matlabstyle}{
    language=Matlab,
    basicstyle=\ttfamily\small\fontfamily{txtt}\selectfont, % Monospaced font
    keywordstyle=\color{blue}\bfseries,               % Keywords in mauve and bold
    commentstyle=\color{codegray}\itshape,             % Comments in gray and italics
    stringstyle=\color{purered},                     % Strings in green
    identifierstyle=\color{pureblack},                 % Identifiers in black
    numberstyle=\ttfamily\small\fontfamily{txtt}\selectfont\color{pureblack},
    numbers=left,                                     % Line numbers on the left
    numbersep=9pt,                                    % Distance of numbers from code
    breaklines=true,                                  % Break lines to fit in the margin
    frame=single,                                     % Frame around the code block
    backgroundcolor=\color{white},               % Background color
    captionpos=b,                                     % Caption below the code
    xleftmargin=30pt,                                 % Left margin
    xrightmargin=30pt,                                % Right margin
    aboveskip=10pt,                                   % Space above the code
    belowskip=10pt,                                   % Space below the code
    lineskip=-2pt,
    showstringspaces=false,                           % Do not show spaces in strings
    morekeywords={function, return, if, else, for, while, end}, % Add MATLAB-specific keywords
    morecomment=[l]{\%},                              % Single-line comments
    morecomment=[s]{\%\%}{\%\%},                      % Multi-line comments (docstrings)
    escapeinside={\%*}{*},                            % Allows LaTeX commands in code
}


%"mystyle" code listing set
\lstset{
literate=%
    % Vần a
    {á}{{\'a}}1
{à}{{\`a}}1
{ạ}{{\d a}}1
{ả}{{\h a}}1
{ã}{{\~ a}}1
%
{Á}{{\'A}}1
{À}{{\`A}}1
{Ạ}{{\d A}}1
{Ả}{{\h A}}1
{Ã}{{\~ A}}1
%
% Vần ă
{ă}{{\u a}}1
{ắ}{{\'\abreve }}1
{ằ}{{\`\abreve }}1
{ặ}{{\d \abreve }}1
{ẳ}{{\h \abreve }}1
{ẵ}{{\~\abreve }}1
%
{Ă}{{\u A}}1
{Ắ}{{\'\ABREVE }}1
{Ằ}{{\`\ABREVE }}1
{Ặ}{{\d \ABREVE }}1
{Ẳ}{{\h \ABREVE }}1
{Ẵ}{{\~\ABREVE }}1
%
% Vần â
{â}{{\^ a}}1
{ấ}{{\'\acircumflex }}1
{ầ}{{\`\acircumflex }}1
{ậ}{{\d \acircumflex }}1
{ẩ}{{\h \acircumflex }}1
{ẫ}{{\~\acircumflex }}1
%
{Â}{{\^ A}}1
{Ấ}{{\'\ACIRCUMFLEX }}1
{Ầ}{{\`\ACIRCUMFLEX }}1
{Ậ}{{\d \ACIRCUMFLEX }}1
{Ẩ}{{\h \ACIRCUMFLEX }}1
{Ẫ}{{\~\ACIRCUMFLEX }}1
%
% Vần đ
{đ}{{\dj }}1
{Đ}{{\DJ }}1
%
% Vần e
{é}{{\'e}}1
{è}{{\`e}}1
{ẹ}{{\d e}}1
{ẻ}{{\h e}}1
{ẽ}{{\~ e}}1
%
{É}{{\'E}}1
{È}{{\`E}}1
{Ẹ}{{\d E}}1
{Ẻ}{{\h E}}1
{Ẽ}{{\~ E}}1
%
% Vần ê
{ê}{{\^e}}1
{ế}{{\'\ecircumflex }}1
{ề}{{\`\ecircumflex }}1
{ệ}{{\d \ecircumflex }}1
{ể}{{\h \ecircumflex }}1
{ễ}{{\~\ecircumflex }}1
%
{Ê}{{\^E}}1
{Ế}{{\'\ECIRCUMFLEX }}1
{Ề}{{\`\ECIRCUMFLEX }}1
{Ệ}{{\d \ECIRCUMFLEX }}1
{Ể}{{\h \ECIRCUMFLEX }}1
{Ễ}{{\~\ECIRCUMFLEX }}1
%
% Vần i
{í}{{\'i}}1
{ì}{{\`\i }}1
{ị}{{\d i}}1
{ỉ}{{\h i}}1
{ĩ}{{\~\i }}1
%
{Í}{{\'I}}1
{Ì}{{\`I}}1
{Ị}{{\d I}}1
{Ỉ}{{\h I}}1
{Ĩ}{{\~I}}1
%
% Vần o
{ó}{{\'o}}1
{ò}{{\`o}}1
{ọ}{{\d o}}1
{ỏ}{{\h o}}1
{õ}{{\~o}}1
%
{Ó}{{\'O}}1
{Ò}{{\`O}}1
{Ọ}{{\d O}}1
{Ỏ}{{\h O}}1
{Õ}{{\~O}}1
%
% Vần ô
{ô}{{\^o}}1
{ố}{{\'\ocircumflex }}1
{ồ}{{\`\ocircumflex }}1
{ộ}{{\d \ocircumflex }}1
{ổ}{{\h \ocircumflex }}1
{ỗ}{{\~\ocircumflex }}1
%
{Ô}{{\^O}}1
{Ố}{{\'\OCIRCUMFLEX }}1
{Ồ}{{\`\OCIRCUMFLEX }}1
{Ộ}{{\d \OCIRCUMFLEX }}1
{Ổ}{{\h \OCIRCUMFLEX }}1
{Ỗ}{{\~\OCIRCUMFLEX }}1
%
% Vần ơ
{ơ}{{\ohorn }}1
{ớ}{{\'\ohorn }}1
{ờ}{{\`\ohorn }}1
{ợ}{{\d \ohorn }}1
{ở}{{\h \ohorn }}1
{ỡ}{{\~\ohorn }}1
%
{Ơ}{{\OHORN }}1
{Ớ}{{\'\OHORN }}1
{Ờ}{{\`\OHORN }}1
{Ợ}{{\d \OHORN }}1
{Ở}{{\h \OHORN }}1
{Ỡ}{{\~\OHORN }}1
%
% Vần u
{ú}{{\'u}}1
{ù}{{\`u}}1
{ụ}{{\d u}}1
{ủ}{{\h u}}1
{ũ}{{\~u}}1
%
{Ú}{{\'U}}1
{Ù}{{\`U}}1
{Ụ}{{\d U}}1
{Ủ}{{\h U}}1
{Ũ}{{\~U}}1
%
% Vần ư
{ư}{{\uhorn }}1
{ứ}{{\'\uhorn }}1
{ừ}{{\`\uhorn }}1
{ự}{{\d \uhorn }}1
{ử}{{\h \uhorn }}1
{ữ}{{\~\uhorn }}1
%
{Ư}{{\UHORN }}1
{Ứ}{{\'\UHORN }}1
{Ừ}{{\`\UHORN }}1
{Ự}{{\d \UHORN }}1
{Ử}{{\h \UHORN }}1
{Ữ}{{\~\UHORN }}1
%
% Vần y
{ý}{{\'y}}1
{ỳ}{{\`y}}1
{ỵ}{{\d y}}1
{ỷ}{{\h y}}1
{ỹ}{{\~y}}1
%
{Ý}{{\'Y}}1
{Ỳ}{{\`Y}}1
{Ỵ}{{\d Y}}1
{Ỷ}{{\h Y}}1
{Ỹ}{{\~Y}}1
}
